<!DOCTYPE html>
<html lang="en">

<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<!-- ////////////////////////////           head start                     ////////////////////////////-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Simulez votre projet photovoltaïque avec Green World Energy." />
    <meta name="keywords" content="Solaire, Energíe, Photovoltaique, Autoconsommation">
    <base href="/">
    <title>Votre Offre | Iberdrola</title>
    <link rel="icon" type="image/png" href="images/Iberdrola.svg">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/picturefill/2.0.0/picturefill.min.js" async></script>



    <!----------------------------------------                Styles                        --------------------------------------------------->



    <link href="css/style-MW.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="resources/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-social.css">
    

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@latest/dist/style.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="js/scripts.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="assets/demo/chart-area-demo.js"></script>
    <script src="assets/demo/chart-bar-demo.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    <script src="js/datatables-simple-demo.js"></script>

    <!---------------------------------------                    Bootstrap icons                   ------------------------------------------------>


    <link href="../cdn.jsdelivr.net/npm/bootstrap-icons%401.5.0/font/bootstrap-icons.css" rel="stylesheet" type="text/css" />


    <!----------------------------------------                API                        ---------------------------------------------->


    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&amp;display=swap" rel="stylesheet">



    <!-------------------------------------------                         JS                 ------------------------------------------------>


<!--     <script src="../code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous" defer async></script>
 --><!--     <script src="../cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous" defer async></script>
 -->    <!-- <script src="../cdn.jsdelivr.net/npm/bootstrap%405.0.2/dist/js/bootstrap.bundle.min.js"></script> -->
    <link rel="stylesheet" href="css/style-MW.css">
<!--     <script src="../cdn.startbootstrap.com/sb-forms-0.4.1.js"></script>
 -->
    <!-----------------------------------------                google search Autocomplete and style start         --------------------------------->
    <!--     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCA8o_cimsHbLd9h-A-zhNfmrGppYGr8Hk&libraries=places&callback=initAutocomplete" async defer></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="js/auto-complete.js" ></script> -->

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!--     <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCA8o_cimsHbLd9h-A-zhNfmrGppYGr8Hk&libraries=places&callback=initialize" async defer></script>
 -->    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>


      <!--------------------------               google search Autocomplete and style end                ---------------------------------->





      <!--------------------------              Result generate pdf:start               ---------------------------------->

      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js"></script>

      <!--------------------------              Result generate pdf:end               ---------------------------------->


      <style>
        .btn-outline-secondary{
  color:black;
  background-color: white;
  border-radius: 10px;
  border-color:#D3DFC2

}
.btn-outline-secondary:hover{
  color:#fff;
  background-color:#FFC605;
  border-color:#D3DFC2
}
.btn-outline-secondary.focus,
.btn-outline-secondary:focus{
  box-shadow:0 0 0 .2rem #759F2F
}
      </style>
</head>




<!------------------------------------- getting stored cookie from previous page: start ---------------------------------->




<script>
  function getCookie(cname) {
var name = cname + "=";
var decodedCookie = decodeURIComponent(document.cookie);
var ca = decodedCookie.split(';');
for(var i = 0; i <ca.length; i++) {
var c = ca[i];
while (c.charAt(0) == ' ') {
c = c.substring(1);
}
if (c.indexOf(name) == 0) {
return c.substring(name.length, c.length);
}
}
return "";
}

var latini = getCookie("latitude");
var lngini = getCookie("longitude");
var address = getCookie("address");
var surfaceinstall = getCookie("Surface total d'installation");
var Ensolleiement = getCookie("Ensolleiment");
var Puissance = getCookie("Puissance totale");
var Installsize = getCookie("Installsize");
var Prodannuelle = getCookie("Production annuelle");
var Nbpanneaux = getCookie("Nbs panneaux");


</script>



<!------------------------------------- getting stored cookie from previous page: end ---------------------------------->




<body>
    
        <!------------------------------------- head of page : start ---------------------------------->



            <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom ">
                <div class="container-fluid justify-content-center">
                    <a class="navbar-brand   " href="panneaux-photovoltaique.html">
                        <img src="images/Iberdrola.svg"  alt="Iberdrola" style="width: 200px;">
                    </a>

                      
            </nav>
            </div>
           
                <div  class=" justify-content-center" style="background-color: #5b871a44; width: 100%;">
                    <div class="row  justify-content-center" style="padding: 2%;">
                        <h1 style="text-align: center;">Rapport du projet</h1>
                    </div>

                     
                </div>
                <div class="container">
                  <main>
                      <div class="container-fluid px-4">
                          <h1 class="mt-4"></h1>
                          <div class="row">
                            <div class="col-lg-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fa-solid fa-circle-info"></i>
                                        Détails du projet
                                    </div>
                                    <div class="card-body">
                                      <h6 ><b>Adresse du projet:</b><h6 id="Adresse"></h6></h6>
                                      <h6 ><b>Puissance de l'installation:</b><h6 id="Puissance"></h6></h6>
                                      <h6 ><b>Prodcution annuelle:</b><h6 id="Production"></h6></h6>
                                      <h6 ><b>Productible annuelle:</b><h6 id="Ensolleiement"></h6></h6>
                                      <h6 ><b>Surface d'installation totale:</b><h6 id="Stotale"></h6></h6>
                                      <h6 ><b>Nombres Totale des panneaux:</b><h6 id="Nbp"></h6></h6>
                                                 
                                    </div>
                                    <script>
document.getElementById("Adresse").innerHTML = address ;
document.getElementById("Puissance").innerHTML = Puissance + " " + "kWc";
document.getElementById("Production").innerHTML = Prodannuelle + " " + "kWh";
document.getElementById("Ensolleiement").innerHTML = Ensolleiement + " " + "kWh/kWp";
document.getElementById("Stotale").innerHTML = surfaceinstall + " " + "m²";
document.getElementById("Nbp").innerHTML = Nbpanneaux;

                                    </script>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fa fa-location-dot"></i>
                                        Localisation du projet
                                    </div>
                                    <div>
                                        <img class="card-body container justify-content-center" id="map"/>
                                    </div>
                                    <script>
                                      console.log(latini);
                                      console.log(lngini);
                                              var mapurl = `https://maps.googleapis.com/maps/api/staticmap?center=`+ latini +`,`+ lngini +`&maptype=satellite&markers=color:red%7Clabel:C%7C`+ latini +`,`+ lngini +`&zoom=18&size=450x300&key=AIzaSyDzulBi_SpOftL71H2ulwSE1u-8oRWZHpE`

                                              var map = document.getElementById('map')

                                              map.src = mapurl
                                    </script>
                                    </div>
                                    </div>
                                   
                                </div>
                                
                                <script>
                                  
                              
                              </script>
                              
                            </div>
                        
                          <div class="card mb-4">
                            <div class="card-header">
                                <i class="fas fa-chart-area me-1"></i>
                                Production mensuelle
                            </div>
                            <div class="card-body"><canvas id="myAreaChart" width="100%" height="30"></canvas></div>
                            <script>
                              // Set new default font family and font color to mimic Bootstrap's default styling
Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
Chart.defaults.global.defaultFontColor = '#292b2c';

// Area Chart Example


// Production annuelle/////////////////////////////////////////////////////////////



var ctx = document.getElementById("myAreaChart");

var rendementsolaireJA = 0.116;
var rendementsolaireLongi = 0.216;
var coefficientpertes = 0.7513;
var datapolygons = localStorage.getItem("data");
var parseddatapoly = JSON.parse(datapolygons);
console.log(parseddatapoly);

var dataproductible = localStorage.getItem("Productible");
var parsedproductible = JSON.parse(dataproductible);
var array2 = [];
var surfacesum = 0;
var surfacesum1 = 0;
var prodmonth = 0
var Puissance = getCookie("Puissance totale");
for(var j= 0; j<parseddatapoly.features.length;j++ ){

if(parseddatapoly.features[j].properties["Installation"] == "toit" || parseddatapoly.features[j].properties["Installation"] == "ombrière" )
  surfacesum = surfacesum + parseddatapoly.features[j].properties["Surface"]


else 
  surfacesum1 = surfacesum1 + parseddatapoly.features[j].properties["Surface"]
}
console.log(surfacesum)
console.log(surfacesum1)
for(var i=0; i < 12; i++){
  
    prodmonth = parsedproductible["outputs"].monthly[i]['H(h)_m'] * coefficientpertes * ((surfacesum * rendementsolaireJA)+(surfacesum1*rendementsolaireLongi));
    console.log(prodmonth)
    array2.push(prodmonth)
   
  }

console.log(array2)

/* chart for production mensuelle */

var myLineChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Decembre"],
    datasets: [{
      label: "Production mensuelle en kWh",
      lineTension: 0.3,
      backgroundColor: "rgba(117, 159, 47,0.2)",
      borderColor: "rgba(255, 198, 5,1)",
      pointRadius: 5,
      pointBackgroundColor: "rgba(117, 159, 47,1)",
      pointBorderColor: "rgba(255,255,255,0.8)",
      pointHoverRadius: 5,
      pointHoverBackgroundColor: "rgba(117, 159, 47,1)",
      pointHitRadius: 50,
      pointBorderWidth: 2,
      data: array2,
    }],
  },
  options: {
    scales: {
      xAxes: [{
        time: {
          unit: 'month'
        },
        gridLines: {
          display: false
        },
        ticks: {
          maxTicksLimit: 14
        }
      }],
      yAxes: [{
        ticks: {
          min: 0,
          max: 60000,
          maxTicksLimit: 4
        },
        gridLines: {
          color: "rgba(0, 0, 0, .125)",
        }
      }],
    },
    legend: {
      display: true
    }
  }
});
 </script>



                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fas fa-chart-bar me-1"></i>
                                         Production vs Consommation mensuelle du site
                                    </div>
                                    <div class="card-body"><canvas id="myBarChart" width="100%" height="50"></canvas></div>
                                    <script>
                                      // Set new default font family and font color to mimic Bootstrap's default styling
Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
Chart.defaults.global.defaultFontColor = '#292b2c';

// Bar Chart Example
// conso vs prod mensuelle
var arraymonth = [];
var jsonconsomonth = localStorage.getItem("consommation mensuelle");
var parsedconsomonth = JSON.parse(jsonconsomonth);
var ctx = document.getElementById("myBarChart");
var myLineChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Decembre"],
    datasets: [
      {
      label: "Production mensuelle",
      backgroundColor: "rgba(117, 159, 47,1)",
      borderColor: "rgba(2,117,216,1)",
      data: array2,
      
    },
    {
      label: "Consommation mesnsuelle",
      backgroundColor: "rgba(255, 198, 5,1)",
      borderColor: "rgba(255,117,216,1)",
      data: parsedconsomonth,
      
    }
  ],
  },
  options: {
    scales: {
      xAxes: [{
        time: {
          unit: 'day'
        },
        gridLines: {
          display: false
        },
        ticks: {
          maxTicksLimit: 13
        }
      }],
      yAxes: [{
        ticks: {
          min: 0,
          max: 500000,
          maxTicksLimit: 14
        },
        gridLines: {
          display: true
        }
      }],
    },
    legend: {
      display: false
    }
  }
});

                                    </script>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <i class="fas fa-chart-bar me-1"></i>
                                        Production vs Consommation journalière du site
                                    </div>
                                    <div class="card-body"><canvas id="myBChart" width="100%" height="50"></canvas></div>
                                    <script>
                                      // Set new default font family and font color to mimic Bootstrap's default styling
Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
Chart.defaults.global.defaultFontColor = '#292b2c';

// Bar Chart Example
var array = [];

var jsonconso = localStorage.getItem("consommation journaliere");
var parsedconso = JSON.parse(jsonconso);
var ctx = document.getElementById("myBChart");
var myLineChart = new Chart(ctx, {
  type: 'bar',
  data: {
    labels: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11","12","13","14","15","16","17","18","19","20","21","22","23"],
    datasets: [
      {
      label: "Production mensuelle",
      backgroundColor: "rgba(117, 159, 47,1)",
      borderColor: "rgba(2,117,216,1)",
      data: array2,
      
    },
    {
      label: "Consommation mesnsuelle",
      backgroundColor: "rgba(255, 198, 5,1)",
      borderColor: "rgba(255,117,216,1)",
      data: parsedconso,
      
    }
  ],
  },
  options: {
    scales: {
      xAxes: [{
        time: {
          unit: 'hour'
        },
        gridLines: {
          display: false
        },
        ticks: {
          maxTicksLimit: 24
        }
      }],
      yAxes: [{
        ticks: {
          min: 0,
          max: 60000,
          maxTicksLimit: 14
        },
        gridLines: {
          display: true
        }
      }],
    },
    legend: {
      display: false
    }
  }
});

                                    </script>
                                   <!-- <script>
                                     // Set new default font family and font color to mimic Bootstrap's default styling
Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
Chart.defaults.global.defaultFontColor = '#292b2c';

// Pie Chart Example
var ctx = document.getElementById("myPieChart");
var myPieChart = new Chart(ctx, {
  type: 'pie',
  data: {
    labels: ["Blue", "Red", "Yellow", "Green"],
    datasets: [{
      data: [12.21, 15.58, 11.25, 8.32],
      backgroundColor: ['#007bff', '#dc3545', '#ffc107', '#28a745'],
    }],
  },
});
                                   </script> -->
                                </div>
                            </div>
                        </div>
                          <div class="card mb-4">
                              <div class="card-header">
                                <i class="fa-solid fa-solar-panel"></i>
                                  Les installations PV
                              </div>
                              <div class="card-body">
                                  <table id="datatablesSimple">
                                      <thead>
                                          <tr>
                                            <th>#</th>
                                            <th>Type d'installation</th>
                                            <th>Puissance (kWc)</th>
                                            <th>Production annuelle (kWh)</th>
                                            <th>Surface d'installation (m²)</th>
                                            <th># Modules</th>
                                          </tr>
                                      </thead>
                                      <tfoot>
                                          <tr>
                                            <th>#</th>
                                            <th>Type d'installation</th>
                                            <th>Puissance (kWc)</th>
                                            <th>Production annuelle (kWh)</th>
                                            <th>Surface d'installation (m²)</th>
                                            <th># Modules</th>
                                          </tr>
                                      </tfoot>
                                      <tbody>
                                          <tr>
                                             
                                          </tr>

                                      </tbody>
                                  </table>
                              </div>
                          </div>
                          <script>
                            window.addEventListener('DOMContentLoaded', event => {
    // Simple-DataTables
    // https://github.com/fiduswriter/Simple-DataTables/wiki

    const datatablesSimple = document.getElementById('datatablesSimple');
    if (datatablesSimple) {
        new simpleDatatables.DataTable(datatablesSimple);
        var dtjson = localStorage.getItem("data");
      var parsing = JSON.parse(dtjson);
      console.log(parsing);
      var projectnumber = 0;
      
      for (var i = 0; i < parsing.features.length; i++) {
        projectnumber++
        document.getElementById('datatablesSimple').innerHTML += '<tr><td>' + projectnumber + '</td><td>'+ parsing.features[i].properties["Installation"] + '</td><td>' + parsing.features[i].properties["Puissance"] +  '</td><td>' + parsing.features[i].properties["Prodannuelle"] + '</td><td>' + parsing.features[i].properties["Surface"] + '</td><td>' + parsing.features[i].properties["Nbpanneaux"] + '</td></tr>';

      };
    }
});
                            // Call the dataTables jQuery plugin
$(document).ready(function() {
  $('#dataTable').DataTable()
    
    
    
      
    
  
});
                          </script>
                          <div class="container-fluid px-4">
                            <h1 class="mt-4"></h1>
                            <div class="row">
                              <div class="col-lg-6">
                                  <div class="card mb-4">
                                      <div class="card-header">
                                        <i class="fa-solid fa-dollar-sign"></i>
                                          Offre CAPEX
                                      </div>
                                      <div class="card-body">
                                        <h6>
                                          Auprès des estimations et résultats obtenu, votre offre CAPEX est:
                                        </h6>
                                                   
                                      </div>
                                      
                                  </div>
                              </div>
                              <div class="card mb-4">
                                <div class="card-header">
                                    <i class="fas fa-chart-area me-1"></i>
                                    ROI
                                </div>
                                <div class="card-body"><canvas id="ROIcapex" width="100%" height="30"></canvas></div>
                                <script>
                                  // Set new default font family and font color to mimic Bootstrap's default styling
    Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
    Chart.defaults.global.defaultFontColor = '#292b2c';
    
    // Area Chart Example
    var ctx = document.getElementById("ROIcapex");
    /* var dataproductible = localStorage.getItem("Productible");
    var parsedproductible = JSON.parse(dataproductible);
    var array2 = [];
    var prodmonth = 0
    var Puissance = getCookie("Puissance totale");
    for(var i=0; i < 12; i++){
      prodmonth = parsedproductible["outputs"].monthly[i]['H(h)_m'] * Puissance * 0.85;
      console.log(prodmonth)
      array2.push(prodmonth);
    }
    
    console.log(array2)
    console.log(parsedproductible["outputs"].monthly[0]['H(h)_m']) */
    var myLineChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Decembre"],
        datasets: [{
          label: "ROI CAPEX",
          lineTension: 0.3,
          backgroundColor: "rgba(49, 147, 204,0.2)",
          borderColor: "rgba(12, 136, 202,1)",
          pointRadius: 5,
          pointBackgroundColor: "rgba(12, 136, 202,1)",
          pointBorderColor: "rgba(255,255,255,0.8)",
          pointHoverRadius: 5,
          pointHoverBackgroundColor: "rgba(12, 136, 202,1)",
          pointHitRadius: 50,
          pointBorderWidth: 2,
          data: [-110,-82,-35,0,25,67,79,100,120,125,145,150],
        }],
      },
      options: {
        scales: {
          xAxes: [{
            time: {
              unit: 'year'
            },
            gridLines: {
              display: false
            },
            ticks: {
              maxTicksLimit: 14
            }
          }],
          yAxes: [{
            ticks: {
              min: -200,
              max: 300,
              maxTicksLimit: 4
            },
            gridLines: {
              color: "rgba(0, 0, 0, .125)",
            }
          }],
        },
        legend: {
          display: true
        }
      }
    });
    
    
                                </script>
                            </div>
                              <div class="col-lg-6">
                                  <div class="card mb-4">
                                      <div class="card-header">
                                        <i class="fa-solid fa-dollar-sign"></i>
                                          Offre PPA
                                      </div>
                                      <div class="card-body">
                                        <h6>
                                          Auprès des estimations et résultats obtenu, votre offre CAPEX est:
                                        </h6> 
                                      </div>
                                      
                                      
                                      </div>
                                      
                                      </div>
                                      
                                      <div class="card mb-4">
                                        <div class="card-header">
                                            <i class="fas fa-chart-area me-1"></i>
                                            ROI
                                        </div>
                                        <div class="card-body"><canvas id="ROIppa" width="100%" height="30"></canvas></div>
                                        <script>
                                          // Set new default font family and font color to mimic Bootstrap's default styling
            Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif';
            Chart.defaults.global.defaultFontColor = '#292b2c';
            
            // Area Chart Example
            var ctx = document.getElementById("ROIppa");
    /* var dataproductible = localStorage.getItem("Productible");
    var parsedproductible = JSON.parse(dataproductible);
    var array2 = [];
    var prodmonth = 0
    var Puissance = getCookie("Puissance totale");
    for(var i=0; i < 12; i++){
      prodmonth = parsedproductible["outputs"].monthly[i]['H(h)_m'] * Puissance * 0.85;
      console.log(prodmonth)
      array2.push(prodmonth);
    }
    
    console.log(array2)
    console.log(parsedproductible["outputs"].monthly[0]['H(h)_m']) */
    var myLineChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["Janvier", "Février", "Mars", "Avril", "Mai", "Juin", "Juillet", "Août", "Septembre", "Octobre", "Novembre", "Decembre"],
        datasets: [{
          label: "ROI PPA",
          lineTension: 0.3,
          backgroundColor: "rgba(49, 147, 204,0.2)",
          borderColor: "rgba(12, 136, 202,1)",
          pointRadius: 5,
          pointBackgroundColor: "rgba(12, 136, 202,1)",
          pointBorderColor: "rgba(255,255,255,0.8)",
          pointHoverRadius: 5,
          pointHoverBackgroundColor: "rgba(12, 136, 202,1)",
          pointHitRadius: 50,
          pointBorderWidth: 2,
          data: [-110,-82,-35,0,25,67,79,100,120,125,145,150],
        }],
      },
      options: {
        scales: {
          xAxes: [{
            time: {
              unit: 'year'
            },
            gridLines: {
              display: false
            },
            ticks: {
              maxTicksLimit: 14
            }
          }],
          yAxes: [{
            ticks: {
              min: -200,
              max: 300,
              maxTicksLimit: 4
            },
            gridLines: {
              color: "rgba(0, 0, 0, .125)",
            }
          }],
        },
        legend: {
          display: true
        }
      }
    });
            
                                        </script>
                                    </div>
                                  </div>
                      </div>
                    

                  </main>
                  <!-- <footer class="py-4 bg-light mt-auto">
                      <div class="container-fluid px-4">
                          <div class="d-flex align-items-center justify-content-between small">
                              <div class="text-muted">Copyright &copy; Your Website 2022</div>
                              <div>
                                  <a href="#">Privacy Policy</a>
                                  &middot;
                                  <a href="#">Terms &amp; Conditions</a>
                              </div>
                          </div>
                      </div>
                  </footer> -->
          
          </div>
            

            
        
                              
                              
                              
                              <!------------------------------------- Attention : start ---------------------------------->
                              
                              
                              
                              
              <div  class=" justify-content-center " >       
              <div class="container" style=" border-radius: 10px ; padding: 2% 1% 1% 1%;">

                <!-- <img class="row justify-content-center" src="images/warning.png" loading="lazy" style="float: left; padding-left: 10%;" ;> -->
                <!-- <div class="row justify-content-center" style="padding-top: 2%;">
                  <div class="justify-content-center" style="background-color: #D3DFC2; width: 90%; padding: 1% 1% 1% 1%; border-radius: 10px;">
                    <h6 >
                      <i class="fa-solid fa-circle-info"></i>
                      Ces résultats sont uniquement une estimation. Votre consommation vous la connaissez bien que nous. N'hésitez pas à nous contacter afin d'obtenir un devis plus précis et une analyse détaillée de votre projet.  Il vous suffit simplement de cliquer sur le bouton "Étude détaillée". 
                    </h6>
                  </div>
                </div> -->
                

                
                            <div class="row justify-content-center" style=" padding-top: 2%">
                              <button class="btn btn-outline-secondary btn-xl" style="padding: 10px 50px; display: block; width: auto;" id="open-popup" ><span class="fa fa-file-lines" style="margin-right: 5%;"></span>Étude détaillée</button>
                              
                            </div>
                          
                            

  
                        </div>
                        <a class="col-12 ms-4 row mt-4"></a> 

                          </div>
                          
                          <style>
                            .fcc-btn {
                              background-color: #f9f9f9;
                              
                              cursor: pointer;
                            }
                          </style>

                              <!------------------------------------- Results generate pdf : start ---------------------------------->


                              <script>
                                window.onload = function () {
                                    document.getElementById("download")
                                        .addEventListener("click", () => {
                                            const invoice = this.document.getElementById("invoice");
                                            console.log(invoice);
                                            console.log(window);
                                            var opt = {
                                                margin: 0,
                                                padding:1,
                                                windowWidth: Window.innerWidth,	
                                                windowHeight: Window.innerHeight,	
                                                filename: 'Résultats.pdf',
                                                image: { type: 'png', quality: 0.98 },
                                                html2canvas: { scale: 2 },
                                                jsPDF: { unit: 'cm', format: 'a4', orientation: 'portrait' },
                                                backgroundColor: 'red'
                                            };
                                            html2pdf().from(invoice).set(opt).save();
                                        })
                                }
                                </script>
                                                        

<div class="popup">
  <div class="popup-container" style="text-align: left ; border-radius: 10px;">
    <h2 style="text-align: left;">J’obtiens une offre gratuite</h2>
    <h6>Rentrez vos coordonnées pour être rappelé(e) par un(e) expert(e) et obtenez gratuitement votre offre personnalisée.</h6>
    <form action="https://formsubmit.co/omarelkassri@gmail.com" method="POST">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_template" value="box">


<!--       <input type="hidden" name="_autoresponse" value="Nous avons reçu votre demande et nous vous rappellerons à la date et à l'heure choisies.">
 -->


      <input type="hidden" name="_next" value="http://127.0.0.1:5500/Message-Envoyée.html">
      <div class="form-group">
        <label>Nom</label>
        <input type="text" class="form-control" id="name" name="Name" placeholder="John Doe" required>
      </div>
      <div class="form-group">
        <label>Adresse</label>
        <input type="text" class="form-control" id="Adresse" name="Adresse">
      <script>
        document.getElementById("Adresse").value = address ;
    </script>
      </div>
      <div class="form-group">
        <label >Numéro de portable</label>
        <input type="tel" class="form-control" id="phone" name="phone" placeholder="+33 7 41 45 48 88" required>
      </div>
      <div class="form-group">
        <label>Surface de toit en m² </label>
        <input type="number" class="form-control" id="Area" name="Surface de toit en m²">
          <script>
            document.getElementById("Area").value = surfaceinstall ;
          </script>
      </div>
      <div class="form-group">
        <label>E-mail</label>
        <input type="email" class="form-control" name="email" id="email" placeholder="johndoe@gmail.com" required>
      </div>
      <div class="form-group">
        <label>Y a-t-il un jour qui vous convient davantage ?</label>
        <input type="date" class="form-control" name="RDV date" id="date" required>
      </div>
      <div class="form-group">  
                <label>Y a-t-il un horaire qui vous convient davantage?</label>
                <select  name="time" id="time" required>
                  <optgroup label="Europe">
                    <option>08:00 - 09:00</option>
                    <option>09:00 - 10:00</option>
                    <option >10:00 - 11:00</option>
                    <option>11:00 - 12:00</option>
                    <option>12:00 - 13:00</option>
                    <option >14:00 - 15:00</option>
                    <option>15:00 - 16:00</option>
                    <option>16:00 - 17:00</option>
                    <option >17:00 - 18:00</option>
                  </optgroup>
                </select>
      </div>
    
      <button class="btn btn-outline-secondary d-flex align-content-center" type="submit"> Envoyer </button>
    </form>   
 
    <div class="popup-close">&times;</div>
  </div>
</div>



<script>

/* window.addEventListener("load", function(){
    setTimeout(
        function open(event){
          document.querySelector(".popup").classList.add("active");
        },
        45000
    )
});

document.querySelector("#open-popup").addEventListener("click",function(){
  document.querySelector(".popup").classList.add("active");
});

document.querySelector(".popup .popup-container .popup-close").addEventListener("click",function(){
  document.querySelector(".popup").classList.remove("active");
}); */

</script>


        
        
                                 <!------------------------------------- Results generate pdf : end ---------------------------------->

                            <!------------------------------------- Attention : end ---------------------------------->
 
                    
                    
                

    

</body>
<!-- Footer -->
<footer class="page-footer font-small blue" style="background-color: #5b871a25;">

  
  <div class="footer-copyright text-center py-3">
    <img src="images/Iberdrola.svg"  alt="Iberdrola" style="width: 200px; background-color: transparent;">
  </div>
 <!-- Copyright -->
  <div class="footer-copyright text-center py-3">
    © 2022 Green World Energy. Tout droits réservés.
    
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->
</html>